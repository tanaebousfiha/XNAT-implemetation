
\section{Concrete Pipeline Method}

Integrating a pipeline in XNAT requires an \ac{XML} descriptor to connect XNAT and the user script, defining metadata, execution steps, conditions, iterations, outputs, and resource descriptors.
During the Pipeline analysis we initially focused on analyzing the implementation process of a OSA prediction based script with the Pipeline method. The Pipeline system requires two components: Pipeline Engine and the XNAT Pipeline Engine Plugin. By default, pipelines are located at /data/home/xnat/pipeline \footnote{\url{https://wiki.xnat.org/documentation/installing-pipelines-in-xnat} last accessed 22.09.2025}



\lstinputlisting[
  inputencoding=cp1252,  language=Python,
  firstline=1,
  lastline=31,
  caption={Extracted from \texttt{osa\_pipeline.xml} (lines 1--31)},
  label={lst:automat-snippet}
]{osa_pipeline.xml}

\noindent\footnotesize See the corresponding lines on GitHub:\url{ https://github.com/tanaebousfiha/XNAT-implemetation/blob/f1ea7a23800a9a1dbd2ca8f5a79685f9ab3f04bb/XNAT%20ML%20Plugin/osa_pipeline.xml#L1-L31}


The  Listing 3.1 presents a sample resource descriptor for a Python script, specifying its location, command prefix, and input arguments such as configuration file, XNAT host, user credentials (with password marked as sensitive), and log file path. 
The commands set up an XML-based pipeline in XNAT. First, , which defines the workflow, is copied to /data/xnat/pipeline/pipelines/my\_pipeline/, where XNAT stores pipeline descriptors. Next, run.sh, the script that executes the workflow, is copied to the same directory so both files are together in the required structure. Finally, chmod +x makes run.sh executable; without this step, XNAT could not run the script and the pipeline would fail.
\footnote{XNAT Documentation (2025): \url{https://wiki.xnat.org/documentation/installing-pipelines-in-xnat} last Accessed 10 September 2025}

\subsection{Pipeline Development and Integration in XNAT}
Unlike the Docker-based approach, setting up a pipeline in XNAT requires more manual steps. First, the pipeline path must be registered under Admin > Pipelines > Register new Pipelines. Then, to allow users to run the pipeline from the XNAT interface, an administrator must edit the relevant data type under Administer > Data Types and add a new action (PipelineScreen\_launch\_pipeline) in the Available Report Actions section, with a display label such as Build or Run Pipeline.\footnote{\url{https://wiki.xnat.org/documentation/installing-pipelines-in-xnat}last accessed 10.09.2025}

\subsection{The Pipeline and the REST API}
With the aim of analyzing the pipeline method more deeply, it is worth noting that XNAT provides several REST API endpoints for managing and running pipelines the most relevant endpoint for automation is \url{POST /pipelines/launch/{pipelineName}} \footnote{\url{://wiki.xnat.org/xnat-api/xnat-pipeline-api} last Accessed 10.09.2025}
This enables programmatic execution of registered pipelines in XNAT. However, full automation is limited, as endpoints to globally enable a pipeline or assign it to a specific project are missing from the REST API. Thus, while pipeline execution can be automated, deployment and project-level setup still require manual steps.



